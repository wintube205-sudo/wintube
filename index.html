<!DOCTYPE html>
<html lang="en">
<head>

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>WinTube</title>

<script src="https://cdn.tailwindcss.com"></script>

<script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore-compat.js"></script>

<style>

body{
background:#050505;
color:white;
font-family:Segoe UI;
}

.card{
background:#111;
border-radius:16px;
overflow:hidden;
cursor:pointer;
transition:.3s;
}

.card:hover{
transform:scale(1.05);
}

</style>

</head>

<body>

<header class="p-4 flex justify-between items-center">

<h1 class="text-2xl font-bold text-blue-500">
WIN<span class="text-white">TUBE</span>
</h1>

<div class="bg-yellow-500/10 px-3 py-1 rounded-full text-yellow-500">
⭐ <span id="points">0</span>
</div>

</header>


<main class="p-4">

<h2 class="text-xl mb-4">Trending Videos</h2>

<div id="videos" class="grid grid-cols-2 md:grid-cols-4 gap-4"></div>

</main>


<script>

// Firebase

const firebaseConfig = {

apiKey: "AIzaSyCOV-2qbB6eFEU-myiTjlXbcE-bWhuqLQs",

authDomain: "wintube-8bcaa.firebaseapp.com",

projectId: "wintube-8bcaa",

storageBucket: "wintube-8bcaa.firebasestorage.app",

messagingSenderId: "459173658209",

appId: "1:459173658209:web:d1e5ddf04ecf548cc67420"

}

firebase.initializeApp(firebaseConfig)

const db = firebase.firestore()




// YouTube API

const API_KEY = "AIzaSyDNK9EJ5IQ2dFLBn1jUk1hslgOwwTBdvJ0"



async function loadVideos(){

const res = await fetch(

`https://www.googleapis.com/youtube/v3/search?part=snippet&chart=mostPopular&maxResults=12&type=video&key=${API_KEY}`

)

const data = await res.json()

const container = document.getElementById("videos")

data.items.forEach(v=>{

const videoId = v.id.videoId

const title = v.snippet.title

const thumb = v.snippet.thumbnails.high.url


container.innerHTML += `

<div class="card" onclick="watch('${videoId}')">

<img src="${thumb}" style="width:100%;height:180px;object-fit:cover">

<div style="padding:10px;font-size:14px">${title}</div>

</div>

`

})

}

loadVideos()




// نقاط المشاهدة

let pts = 0

function watch(id){

window.open(`https://www.youtube.com/watch?v=${id}`)

setInterval(()=>{

pts+=2

document.getElementById("points").innerText = pts

},30000)

}

</script>


</body>
</html>
